# 第八章 IO库

### 8.1

+ IO对象无法拷贝或者赋值。

+ 检测IO对象是否正确的方式是使用`.good()`或者`.fail()`

+ 刷新缓冲区的方法有四个
```c++
cout << "hi!" << endl; //　输出hi!和一个换行，然后刷新缓冲区
cout << "hi!" << flush; //　输出hi!，然后刷新缓冲区，不添加任何额外字符。
cout << "hi!" << ends; //　输出hi!和一个空字符，然后刷新缓冲区
cout << unitbuf; // 所有输出操作后都会立刻刷新缓冲区。
cout << nonuitbuf; // 恢复
```

+ **如果程序崩溃，输出缓冲区不会被刷新**

+ 当一个输入流被关联到一个输出流时，任何试图从输入流读取数据的操作都会先刷新关联的输出流。

+ 使用`tie`函数关联输入流和输出流。
```c++
ostream *os = is.tie() // 返回当前输入流关联的输出流的指针。
ostream *os2 = is.tie(os) // 返回当前输入流关联的输出流的指针,将is关联到*os上
```

+ 每个流最多可以关联到一个流，但是多个流可以关联到一个流。

+ 当一个`fstream`对象被销毁的时候，close会自动被调用。

+ 以out模式打开文件会丢弃已有数据，若想保留数据则使用`ofstream::app`的形式打开，或者使用in模式。


### 8.3

+ strm类型是sstream `strm.str()`返回strm所保存的string的拷贝，`strm.str(s)`将string s拷贝到strm中，返回void
